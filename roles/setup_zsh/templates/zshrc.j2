# Load oh-my-zsh plugin manager
{%- if use_oh_my_zsh -%}
    autoload -U +X compinit && compinit

    # Load plugins
    source $HOME/.zsh/lib/git.zsh
    {%- for plugin in oh_my_zsh_plugins -%}
        source $HOME/.zsh/plugins/{{plugin}}/{{plugin}}.plugin.zsh
    {% endfor %}
{% endif %}

# Load aliases
source $HOME/.aliases

# Load sdkman
{%- if use_sdkman -%}
    export SDKMAN_DIR=$(brew --prefix sdkman-cli)/libexec
    [[ -s "${SDKMAN_DIR}/bin/sdkman-init.sh" ]] && source "${SDKMAN_DIR}/bin/sdkman-init.sh"
{% endif %}

# Load nvm
{%- if use_nvm -%}
    export NVM_DIR="$HOME/.nvm"
    [ -s "$(brew --prefix)/opt/nvm/nvm.sh" ] && source "$(brew --prefix)/opt/nvm/nvm.sh"
{% endif %}

# Load pyenv
{%- if use_pyenv -%}
    alias brew='env PATH="${PATH//$(pyenv root)\/shims:/}" brew'
    export PYENV_ROOT="$HOME/.pyenv"
    export PATH="$PYENV_ROOT/bin:$PATH"
    eval "$(pyenv init -)"
    eval "$(pyenv virtualenv-init -)"
{% endif %}

{%- if use_pyenv_virtualenv -%}
    # Load pyenv-virtualenv
    if which pyenv-virtualenv-init > /dev/null; then eval "$(pyenv virtualenv-init -)"; fi
{% endif %}

# Set VS Code as default editor
export EDITOR="{{ default_editor }}"

# Fix for GPG
{%- if use_gpg -%}
    export GPG_TTY=$(tty)
{% endif %}
